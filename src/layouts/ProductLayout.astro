---
import BaseLayout from "./BaseLayout.astro";
import Header from "../components/Header.astro";

const {
  title = "Product",
  subtitle = "Subsea module",
  description = "",
  heroImage = null, // "/products/camera.webp"
  tags = [],        // ["Ultra-low latency", "Machine vision", "Depth rated"]
  specs = [],       // [{label:"Interface", value:"GigE / Ethernet"}, ...]
} = Astro.props;
---

<BaseLayout title={`ZiMO — ${title}`}>
  <Header />

  <main class="bg-[#070a0f]">
    <section class="relative overflow-hidden">
      <div class="pointer-events-none absolute inset-0 bg-[radial-gradient(1200px_700px_at_50%_20%,rgba(255,255,255,0.06),transparent_60%)]"></div>

      <div class="relative mx-auto max-w-6xl px-6 py-16 md:py-20">
        <div class="grid grid-cols-1 items-start gap-10 md:grid-cols-2">
          <div>
            <p class="text-sm font-semibold tracking-wide text-white/60">{subtitle}</p>
            <h1 class="mt-3 text-4xl font-semibold tracking-tight md:text-5xl">{title}</h1>
            {description && (
              <p class="mt-5 text-sm leading-relaxed text-white/75 md:text-base">
                {description}
              </p>
            )}

            {tags?.length > 0 && (
              <div class="mt-6 flex flex-wrap gap-2">
                {tags.map((t) => (
                  <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-white/80">
                    {t}
                  </span>
                ))}
              </div>
            )}

            <div class="mt-8 flex flex-wrap gap-3">
              <a
                href="https://docs.zimo.no/"
                target="_blank"
                rel="noreferrer"
                class="rounded-full bg-red-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-red-600/25 transition hover:bg-red-500"
              >
                Technical docs →
              </a>
              <a
                href="/contact"
                class="rounded-full border border-white/15 bg-white/5 px-6 py-3 text-sm font-semibold text-white/85 transition hover:bg-white/10 hover:text-white"
              >
                Request info
              </a>
            </div>
          </div>

          <div class="rounded-2xl border border-white/10 bg-black/30 p-5 backdrop-blur">
            <div class="overflow-hidden rounded-xl border border-white/10 bg-black/40">
              {heroImage ? (
                <img
                  src={heroImage}
                  alt={title}
                  class="h-72 w-full object-contain p-8 md:h-80"
                  loading="eager"
                  decoding="async"
                />
              ) : (
                <div class="flex h-72 items-center justify-center text-sm text-white/40 md:h-80">
                  Image coming soon
                </div>
              )}
            </div>

            {specs?.length > 0 && (
              <div class="mt-5">
                <h2 class="text-sm font-semibold tracking-wide text-white/70">Key specs</h2>
                <dl class="mt-3 grid grid-cols-1 gap-3">
                  {specs.map((s) => (
                    <div class="flex items-center justify-between rounded-xl border border-white/10 bg-white/5 px-4 py-3">
                      <dt class="text-sm text-white/60">{s.label}</dt>
                      <dd class="text-sm font-semibold text-white/85">{s.value}</dd>
                    </div>
                  ))}
                </dl>
              </div>
            )}
          </div>
        </div>
      </div>
    </section>

    <!-- Standard sections -->
    <section class="mx-auto max-w-6xl px-6 pb-20">
      <div class="grid grid-cols-1 gap-6 md:grid-cols-3">
        <div class="rounded-2xl border border-white/10 bg-black/30 p-6 backdrop-blur">
          <h3 class="text-base font-semibold">Use cases</h3>
          <p class="mt-2 text-sm leading-relaxed text-white/75">
            ROV navigation, inspection, autonomy pipelines, low-light monitoring, and machine vision workflows.
          </p>
        </div>
        <div class="rounded-2xl border border-white/10 bg-black/30 p-6 backdrop-blur">
          <h3 class="text-base font-semibold">Integration</h3>
          <p class="mt-2 text-sm leading-relaxed text-white/75">
            Built for clean integration in subsea stacks: power, comms, and modular mounting options.
          </p>
        </div>
        <div class="rounded-2xl border border-white/10 bg-black/30 p-6 backdrop-blur">
          <h3 class="text-base font-semibold">Reliability</h3>
          <p class="mt-2 text-sm leading-relaxed text-white/75">
            Focused on robustness, repeatability, and long-term operation at depth.
          </p>
        </div>
      </div>

      <div class="mt-10 rounded-2xl border border-white/10 bg-black/30 p-8 backdrop-blur">
        <h2 class="text-xl font-semibold md:text-2xl">Overview</h2>
        <div class="mt-4 text-sm leading-relaxed text-white/75 md:text-base">
          <slot />
        </div>
      </div>

      <p class="mt-12 text-center text-sm font-medium text-white/80">
        Designed in Norway · European Supply Chain · Assembled in Norway
      </p>
    </section>
  </main>
</BaseLayout>
